{% extends 'base.html' %}

{% block title %}Home - USIU LMS{% endblock %}

{% block extra_css %}
<style>
    .hero-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 4rem 2rem;
        border-radius: 12px;
        margin-bottom: 3rem;
        text-align: center;
    }

    .hero-title {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 1rem;
        line-height: 1.2;
    }

    .hero-subtitle {
        font-size: 1.25rem;
        margin-bottom: 2rem;
        opacity: 0.95;
    }

    .hero-badges {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
        margin-bottom: 2rem;
    }

    .badge {
        background: rgba(255, 255, 255, 0.2);
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        backdrop-filter: blur(10px);
    }

    .btn {
        display: inline-block;
        padding: 1rem 2.5rem;
        border-radius: 8px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s;
        font-size: 1.1rem;
    }

    .btn-primary {
        background: white;
        color: #667eea;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }

    .btn-secondary {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        border: 2px solid white;
    }

    .btn-secondary:hover {
        background: rgba(255, 255, 255, 0.3);
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
        margin-bottom: 3rem;
    }

    .feature-card {
        background: white;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        transition: transform 0.3s, box-shadow 0.3s;
        text-align: center;
    }

    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 24px rgba(0,0,0,0.15);
    }

    .feature-icon {
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1rem;
        font-size: 1.5rem;
    }

    .feature-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 0.75rem;
    }

    .feature-description {
        color: #7f8c8d;
        line-height: 1.6;
    }

    .ai-badge {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.75rem;
        font-weight: 600;
        display: inline-block;
        margin-bottom: 0.5rem;
    }

    .stats-section {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        padding: 3rem 2rem;
        border-radius: 12px;
        margin-bottom: 3rem;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
        text-align: center;
    }

    .stat-item {
        color: #2c3e50;
    }

    .stat-number {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
    }

    .stat-label {
        font-size: 1rem;
        opacity: 0.8;
    }

    .welcome-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 2rem;
        border-radius: 12px;
        margin-bottom: 2rem;
        text-align: center;
    }

    .welcome-title {
        font-size: 2rem;
        font-weight: 600;
        margin-bottom: 1rem;
    }

    .role-badge {
        background: rgba(255, 255, 255, 0.2);
        padding: 0.5rem 1.5rem;
        border-radius: 20px;
        display: inline-block;
        margin-bottom: 1rem;
        backdrop-filter: blur(10px);
    }

    @media (max-width: 768px) {
        .hero-title {
            font-size: 2rem;
        }

        .hero-subtitle {
            font-size: 1rem;
        }

        .features-grid {
            grid-template-columns: 1fr;
        }

        .stats-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }
</style>
{% endblock %}

{% block content %}
{% if user.is_authenticated %}
    <!-- Welcome Card for Authenticated Users -->
    <div class="welcome-card">
        <h1 class="welcome-title">Welcome back, {{ user.first_name|default:user.username }}! üëã</h1>
        <div class="role-badge">
            <strong>{{ user.get_role_display }}</strong>
        </div>
        <p style="margin-bottom: 1.5rem; font-size: 1.1rem;">Ready to continue your learning journey?</p>
        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
            <a href="{% url 'my_courses' %}" class="btn btn-primary">My Courses</a>
            <a href="{% url 'chat:chat_home' %}" class="btn btn-secondary">Go to Chat</a>
            <a href="{% url 'livestream:livestream_list' %}" class="btn btn-secondary">View Livestreams</a>
        </div>
    </div>

    <!-- Quick Stats -->
    <div class="stats-section">
        <h2 style="text-align: center; margin-bottom: 2rem; color: #2c3e50; font-size: 1.75rem;">Your Dashboard</h2>
        <div class="stats-grid">
            <div class="stat-item">
                <div class="stat-number">{% if user.role == 'STUDENT' %}{{ user.enrollments.count }}{% else %}{{ user.courses_taught.count }}{% endif %}</div>
                <div class="stat-label">{% if user.role == 'STUDENT' %}Enrolled Courses{% else %}Courses Teaching{% endif %}</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">{{ user.notifications.count }}</div>
                <div class="stat-label">Notifications</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">{% if user.role == 'STUDENT' %}{{ user.submissions.count }}{% else %}0{% endif %}</div>
                <div class="stat-label">{% if user.role == 'STUDENT' %}Assignments Submitted{% else %}Pending Grades{% endif %}</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">{{ user.chat_rooms.count }}</div>
                <div class="stat-label">Chat Rooms</div>
            </div>
        </div>
    </div>

{% else %}
    <!-- Hero Section for Non-Authenticated Users -->
    <div class="hero-section">
        <h1 class="hero-title">AI-Powered Learning Management System</h1>
        <p class="hero-subtitle">
            Experience the future of education with AI assistance, real-time collaboration, and live streaming
        </p>

        <div class="hero-badges">
            <div class="badge">ü§ñ AI-Powered</div>
            <div class="badge">üí¨ Real-time Chat</div>
            <div class="badge">üìπ Live Streaming</div>
            <div class="badge">üìä Advanced Analytics</div>
        </div>

        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
            <a href="{% url 'register' %}" class="btn btn-primary">Get Started Free</a>
            <a href="{% url 'login' %}" class="btn btn-secondary">Sign In</a>
        </div>
    </div>
{% endif %}

<!-- Features Section -->
<h2 style="text-align: center; margin-bottom: 2rem; color: #2c3e50; font-size: 2rem;">Platform Features</h2>

<div class="features-grid">
    <!-- AI Features -->
    <div class="feature-card">
        <span class="ai-badge">AI-POWERED</span>
        <div class="feature-icon">ü§ñ</div>
        <h3 class="feature-title">AI Quiz Assistant</h3>
        <p class="feature-description">
            Get intelligent hints, concept explanations, and personalized study recommendations powered by Claude AI
        </p>
    </div>

    <div class="feature-card">
        <span class="ai-badge">AI-POWERED</span>
        <div class="feature-icon">üìù</div>
        <h3 class="feature-title">AI Grading Assistant</h3>
        <p class="feature-description">
            Teachers get AI-powered grading suggestions with confidence scores and automated feedback generation
        </p>
    </div>

    <div class="feature-card">
        <span class="ai-badge">AI-POWERED</span>
        <div class="feature-icon">üìä</div>
        <h3 class="feature-title">Student Analytics</h3>
        <p class="feature-description">
            AI-powered performance analytics identifying learning gaps and predicting student success
        </p>
    </div>

    <!-- Core Features -->
    <div class="feature-card">
        <div class="feature-icon">üìπ</div>
        <h3 class="feature-title">Live Streaming</h3>
        <p class="feature-description">
            WebRTC-powered live lectures with interactive Q&A, chat, and automatic recording
        </p>
    </div>

    <div class="feature-card">
        <div class="feature-icon">üí¨</div>
        <h3 class="feature-title">Real-time Chat</h3>
        <p class="feature-description">
            Course chats, direct messaging, and group discussions with read receipts and typing indicators
        </p>
    </div>

    <div class="feature-card">
        <div class="feature-icon">üìö</div>
        <h3 class="feature-title">Course Management</h3>
        <p class="feature-description">
            Create and manage courses with enrollment tracking, content organization, and student monitoring
        </p>
    </div>

    <div class="feature-card">
        <div class="feature-icon">‚úçÔ∏è</div>
        <h3 class="feature-title">Assignments & Quizzes</h3>
        <p class="feature-description">
            Multiple assignment types with automatic grading, late submission control, and detailed feedback
        </p>
    </div>

    <div class="feature-card">
        <div class="feature-icon">üéØ</div>
        <h3 class="feature-title">Smart Gradebook</h3>
        <p class="feature-description">
            Weighted grading categories, automatic calculations, grade scales, and performance tracking
        </p>
    </div>

    <div class="feature-card">
        <div class="feature-icon">üìÖ</div>
        <h3 class="feature-title">Calendar & Events</h3>
        <p class="feature-description">
            Integrated calendar with assignment due dates, exam schedules, and course events
        </p>
    </div>

    <div class="feature-card">
        <div class="feature-icon">üîî</div>
        <h3 class="feature-title">Notifications</h3>
        <p class="feature-description">
            Real-time notifications for assignments, grades, announcements, and course updates
        </p>
    </div>

    <div class="feature-card">
        <div class="feature-icon">üë•</div>
        <h3 class="feature-title">Role-Based Access</h3>
        <p class="feature-description">
            Secure access control for students, instructors, and administrators with custom permissions
        </p>
    </div>

    <div class="feature-card">
        <div class="feature-icon">üì±</div>
        <h3 class="feature-title">Responsive Design</h3>
        <p class="feature-description">
            Fully responsive interface that works seamlessly on desktop, tablet, and mobile devices
        </p>
    </div>
</div>

<!-- Technology Stack Section -->
<div style="background: #f8f9fa; padding: 3rem 2rem; border-radius: 12px; margin-top: 3rem;">
    <h2 style="text-align: center; margin-bottom: 2rem; color: #2c3e50; font-size: 1.75rem;">Built with Modern Technology</h2>
    <div style="display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; max-width: 800px; margin: 0 auto;">
        <span style="background: white; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem;">Django 5.1.4</span>
        <span style="background: white; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem;">Claude AI API</span>
        <span style="background: white; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem;">WebSocket (Channels)</span>
        <span style="background: white; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem;">WebRTC</span>
        <span style="background: white; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem;">Redis</span>
        <span style="background: white; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem;">Celery</span>
        <span style="background: white; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem;">PostgreSQL</span>
    </div>
</div>

{% if not user.is_authenticated %}
<div style="text-align: center; margin-top: 4rem; padding: 3rem 2rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; color: white;">
    <h2 style="font-size: 2rem; margin-bottom: 1rem;">Ready to Get Started?</h2>
    <p style="font-size: 1.1rem; margin-bottom: 2rem; opacity: 0.95;">Join USIU LMS today and experience the future of online learning</p>
    <a href="{% url 'register' %}" class="btn btn-primary">Create Account</a>
</div>
{% endif %}
{% endblock %}
